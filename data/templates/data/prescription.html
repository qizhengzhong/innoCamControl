{% extends "data/data_form.html" %}

{% block title %}All Data{% endblock title %}


{% block content %}

<div class="container">
    <div class="row">

          <div class="col-sm3">
            <div class="card">
              <div class="card-header" style="color:black;font-size:25px;text-align: center;"> Prescription Scatter Chart</div>
              <div class="card-body">
                <canvas id="scatterChart"></canvas>
              </div>
            </div>
          </div>     
 
          <div class="col-sm3">
            <div class="card">
              <div class="card-header" style="color:black;font-size:25px;text-align: center;">Customer Distribution</div>
              <div class="card-body">
                <canvas id="pieChart"></canvas>
              </div>
            </div>
          </div>
    
        <div class="col-sm3">
            <div class="card">
              <div class="card-header" style="color:black;font-size:25px;text-align: center;">Incoming Material Index</div>
              <div class="card-body">
                <canvas id="utilization"></canvas>
              </div>
            </div>
        </div>
    </div>




<script>

  count1={{ scatter1|safe }}
  volume1={{ scatter2|safe }}
  const data1 = count1.map((x, index) => ({x, y: volume1[index]}));


  count2={{ scatter3|safe }}
  volume2={{ scatter4|safe }}
  const data2 = count2.map((x, index) => ({x, y: volume2[index]}));

  const scatterChart = new Chart(document.getElementById('scatterChart'), {
    data: {
      datasets: [{
        label: 'With maintenance',
        data:data1,
        backgroundColor: 'rgb(255, 99, 132)'
      },
      
      {
        label: 'No maintenance',
        data: data2,
        backgroundColor: 'rgb(0, 99, 132)'
      },

      ],
    },
    type: 'scatter',
    options: {
      scales: {
        x: {
          type: 'linear',
          position: 'bottom'
        },

          xAxes: [{
            display: true,
            scaleLabel: {
                display: true,
                labelString: 'sales prescription score'
            }
        }],  

          yAxes: [{
            display: true,
            scaleLabel: {
                display: true,
                labelString: 'revenue'
            }
        }],  
      }
    }
  })


  const pieChart = new Chart(document.getElementById('pieChart').getContext('2d'), {
    type: 'pie',
    data: {
      labels: [
        'UK',
        'CHina',
        'Germany',
        'France',
        'Italy',
        'Greece',
        'Spain',
        'Swinden',
      ],
      datasets: [{
        label: 'My First Dataset',
        data: [100, 79, 75, 51, 20, 18, 15, 7],
        backgroundColor: [
          'rgb(255, 99, 132)',
          'rgb(54, 162, 235)',
          'rgb(255, 205, 86)',
          'rgb(105, 99, 132)',
          'rgb(54, 102, 205)',
          'rgb(155, 205, 186)',
          'rgb(154, 62, 135)',
          'rgb(55, 205, 86)',
        ],
        hoverOffset: 4
      }]
    },

  })



var green = "rgba(52,191,158,1)";
var lightgreen = "rgba(45, 204, 170, 1)";
var blue = "rgba(0,147,214,1)";
var lightblue = "rgba(0, 157, 230, 1)";
var orange = "rgba(239,141,54,1)";
var yellow = "rgba(255,232,124,1)";
var red = "#FF4242";
var transparent = "rgba(0,0,0,0)";

var utilizationCtx = document.getElementById("utilization");
var utilization = new Chart(utilizationCtx, {
  type: 'line',
  data: {
    labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
    datasets: [{
      label: 'Raw material index 1',
      data: [50,32,30,32,34,49,41,56,53,43,51,41,44,44,40,43,46,46,61,76,44,48,51,24,35,55,30,46,26,45,28],
      fill: true,
      backgroundColor: lightgreen,
      borderColor: green,
      borderWidth: 3
    }, {
      label: 'Raw material index 2',
      data: [89,60,71,83,86,87,85,63,66,86,71,46,53,69,83,77,60,80,70,78,82,75,78,81,99,76,71,70,88,86,76],
      fill: true,
      backgroundColor: lightblue,
      borderColor: blue,
      borderWidth: 3,
      cubicInterpolationMode: "monotone"
    }]
  },
  options: {
    layout: {padding: {right:10}},
    maintainAspectRatio: false,
    legend: {
      display: true
    },
    scales: {
      display:false,
      xAxes: [{
        gridLines: {
          display: false,
          drawBorder: false
        },
        ticks: {
          display: false
        }
      }],
      yAxes: [{
        ticks: {
          display: true,
          beginAtZero: false
        },
        gridLines: {
          display: false,
          drawBorder: false
        }
      }]
    }
  }
});


</script>

{% endblock %}







